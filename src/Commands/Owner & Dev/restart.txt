import { ICommand } from "wokcommands";

import imp from "../../Data/config.json" 

import binfo from "../../Data/info.json"

export default {

    name: `restart`,
    aliases: [`reboot`],
    category: `Owner`,
    description: `Restarts the bot`,

    minArgs: 1,
    expectedArgs: `<password>`,

    callback: async({message, args, client}) => {

        if(imp.rebot_pass !== args[0]) return `error`

        await message.reply(`Bot will reboot in a while...`)
        .then(() => client.destroy())
        .then(() => client.on('ready', () => {}))
        .then(() => client.login(imp.token))
        console.log("Bot Restarted");
        return message.channel.send(`Reboot complete. Ready for command`)
    }

} as ICommand